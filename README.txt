Braintree Cashier - subscriptions for Drupal website with the Braintree payment gateway.

Installation walkthrough: https://www.drupal.org/docs/8/modules/braintree-cashier/installation-walkthrough

Braintree Cashier enables recurring subscriptions for Drupal websites. It is inspired by Laravel's Cashier Braintree project and borrows some of it's software architecture. The customer facing UI was inspired by Laracasts. It requires using the Braintree payment gateway.
With this module you can

    Accept payment by either Credit Card or PayPal.
    Configure which Drupal Roles are granted to purchasers.
    Configure which Drupal Roles are revoked when the subscription has expired.

Features

    Uses the Drop-in UI to collect payment. It is a tokenized payment form provided by Braintree and it ensures that credit card numbers never reach your server. Payment details are sent by the user's browser via JS directly to Braintree, which responds to the user's browser with a unique token representing the payment method that may be used only by your server. The user's browser submits this token to your server, and not the raw payment details.
    Supports any currency supported by Braintree.
    Fixed amount coupon codes.
    PDF invoices for each transaction.
    Uses the Message module to maintain an activity stream for each user to record Braintree Cashier activity. See the Events emitted by this module, most of which are subscribed to by the event subscriber that creates the Braintree Activity stream. Activity that is recorded includes:
        A user created a Drupal account after clicking a link to sign up for a plan.
        A new subscription has been created by successful checkout.
        Payment method updated.
        A Braintree Customer account has been created at Braintree for the Drupal user.
        A user cancels their subscription.
    Prorated plan changes, including changes between the different billing frequencies of monthly to yearly.
    Formats currencies using Money PHP based on the currency code configured at /admin/config/braintree-cashier/settings.
    Includes automated functional tests extending Drupal's BrowserTestBase and JavascriptTestBase classes. See instructions for running these tests locally.

Install this module using composer require drupal/braintree_cashier in order to pick up dependencies, such as the Braintree PHP SDK, Money PHP, and Dom PDF.

This module leans heavily on the Braintree API. There is a minimum of data stored locally in Drupal. For example, when a user visits the "Invoices" tab to see past payments, the data presented there is dynamically generated by an API call to Braintree. Payment history is not stored locally.
Known limitations

    Only one currency may be used by each Drupal installation. This would be the currency of the default Braintree merchant account.
    For plan changes between plans of different billing frequencies, only monthly to yearly is supported. Attempting to change from a yearly plan to monthly, or any other combination of frequencies, will result in an error message.
